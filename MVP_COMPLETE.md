# MVP å¯¦ä½œå®Œæˆå ±å‘Š ğŸ‰

**å°ˆæ¡ˆ**: å®¶åº­è¨˜å¸³æ‡‰ç”¨ç¨‹å¼  
**åŠŸèƒ½åˆ†æ”¯**: 001-member-accounting  
**å®Œæˆæ—¥æœŸ**: 2025-11-10  
**ç‹€æ…‹**: âœ… MVP å®Œæ•´å¯¦ä½œå®Œæˆ,å¯ç«‹å³æ¸¬è©¦ä½¿ç”¨

## åŸ·è¡Œæ‘˜è¦

æˆ‘å€‘æˆåŠŸå®Œæˆäº†å®¶åº­è¨˜å¸³æ‡‰ç”¨ç¨‹å¼çš„ MVP (Minimum Viable Product) å¯¦ä½œ,åŒ…å«:

- âœ… **å®Œæ•´çš„æœƒå“¡ç³»çµ±** (è¨»å†Šã€é©—è­‰ã€ç™»å…¥ã€ç™»å‡º)
- âœ… **å®Œæ•´çš„è¨˜å¸³åŠŸèƒ½** (æ–°å¢è¨˜éŒ„ã€æŸ¥çœ‹åˆ—è¡¨ã€è²¡å‹™æ¦‚è¦½)
- âœ… **å…¨æ£§å¯¦ä½œ** (Flutter å‰ç«¯ + Supabase å¾Œç«¯)
- âœ… **è·¨å¹³å°æ”¯æ´** (iOSã€Androidã€Web)
- âœ… **é›¶éŒ¯èª¤ç·¨è­¯**
- âœ… **ç¹é«”ä¸­æ–‡ä»‹é¢**

## å¯¦ä½œæˆæœ

### æŠ€è¡“æ£§

**å‰ç«¯**:
- Flutter 3.35.7
- Dart 3.9.2
- Riverpod 3.x (ç‹€æ…‹ç®¡ç†)
- Dio 5.4.0 (HTTP å®¢æˆ¶ç«¯)
- flutter_secure_storage 10.0.0 (å®‰å…¨å„²å­˜)

**å¾Œç«¯**:
- Supabase (BaaS)
- Deno 2.5.6
- PostgreSQL (è³‡æ–™åº«)
- Edge Functions (API)

**é–‹ç™¼å·¥å…·**:
- VS Code
- Flutter DevTools
- Supabase Studio
- Docker Desktop

### åŠŸèƒ½å¯¦ä½œ

#### 1. æœƒå“¡è¨»å†Šèˆ‡é©—è­‰ (US1)
- è¨»å†Šè¡¨å–® (å§“åã€Emailã€å¯†ç¢¼)
- Email é©—è­‰ç¢¼ (6 ä½æ•¸ã€5 åˆ†é˜æœ‰æ•ˆ)
- å¯†ç¢¼å¼·åº¦é©—è­‰ (8-20 ç¢¼ã€å¤§å°å¯«è‹±æ•¸)
- é‡ç™¼é©—è­‰ç¢¼ (60 ç§’å†·å»)
- éŒ¯èª¤è™•ç†èˆ‡æç¤º

#### 2. æœƒå“¡ç™»å…¥èˆ‡ç™»å‡º (US2)
- Email/å¯†ç¢¼ç™»å…¥
- JWT Token èªè­‰
- è‡ªå‹•ç™»å…¥ (7 å¤©æœ‰æ•ˆ)
- å®‰å…¨ç™»å‡º
- Session ç®¡ç†

#### 3. è²¡å‹™æ¦‚è¦½ (US3)
- ç¸½æ”¶å…¥çµ±è¨ˆ
- ç¸½æ”¯å‡ºçµ±è¨ˆ
- çµé¤˜è¨ˆç®—
- å€‹äººåŒ–å•å€™ (ã€Œæ‚¨å¥½, {å§“å}ã€)
- ä¸‹æ‹‰é‡æ–°æ•´ç†

#### 4. æ–°å¢äº¤æ˜“è¨˜éŒ„ (US4)
- é¡å‹é¸æ“‡ (æ”¶å…¥/æ”¯å‡º)
- å‹•æ…‹é¡åˆ¥é¸æ“‡
  - æ”¶å…¥: è–ªæ°´ã€çé‡‘ã€æŠ•è³‡ã€å…¶ä»–æ”¶å…¥
  - æ”¯å‡º: é¤é£²ã€äº¤é€šã€è³¼ç‰©ã€å¨›æ¨‚ã€é†«ç™‚ã€æ•™è‚²ã€å±…ä½ã€å…¶ä»–æ”¯å‡º
- é‡‘é¡è¼¸å…¥èˆ‡é©—è­‰ (ä¸Šé™ Â¥1,000,000)
- å‚™è¨»æ¬„ä½ (é¸å¡«ã€200 å­—)
- å³æ™‚è¡¨å–®é©—è­‰

#### 5. æŸ¥çœ‹äº¤æ˜“è¨˜éŒ„åˆ—è¡¨ (US5)
- æ™‚é–“å€’åºæ’åˆ—
- æ”¶å…¥é¡¯ç¤º +é‡‘é¡ (ç¶ è‰²)
- æ”¯å‡ºé¡¯ç¤º -é‡‘é¡ (ç´…è‰²)
- é¡¯ç¤ºé¡åˆ¥ã€é‡‘é¡ã€å‚™è¨»ã€æ™‚é–“
- ç©ºç‹€æ…‹æç¤º

### API ç«¯é»

æ‰€æœ‰ API ç«¯é»å·²å¯¦ä½œä¸¦æ¸¬è©¦:

**èªè­‰ API**:
- `POST /auth/register` - æœƒå“¡è¨»å†Š
- `POST /auth/verify-email` - Email é©—è­‰
- `POST /auth/login` - æœƒå“¡ç™»å…¥
- `POST /auth/logout` - æœƒå“¡ç™»å‡º

**è¨˜å¸³ API**:
- `GET /accounting/transactions` - æŸ¥è©¢äº¤æ˜“è¨˜éŒ„
- `POST /accounting/transactions` - æ–°å¢äº¤æ˜“è¨˜éŒ„
- `GET /accounting/summary` - è²¡å‹™æ¦‚è¦½

### è³‡æ–™åº«è¨­è¨ˆ

4 å€‹è³‡æ–™è¡¨å·²å»ºç«‹:

1. **users** - ä½¿ç”¨è€…è³‡æ–™
   - id (UUID, Primary Key)
   - email (å”¯ä¸€ç´¢å¼•)
   - name
   - password_hash (bcrypt)
   - is_verified
   - created_at, updated_at
   - RLS å•Ÿç”¨

2. **verification_codes** - é©—è­‰ç¢¼
   - id (UUID, Primary Key)
   - email
   - code (6 ä½æ•¸)
   - expires_at (5 åˆ†é˜)
   - attempt_count (æœ€å¤š 5 æ¬¡)
   - last_sent_at (å†·å»æ™‚é–“)
   - è‡ªå‹•æ¸…ç†éæœŸè¨˜éŒ„

3. **sessions** - æœƒè©±ç®¡ç†
   - id (UUID, Primary Key)
   - user_id (Foreign Key)
   - token_hash
   - device_info
   - expires_at (7 å¤©)
   - last_used_at
   - è‡ªå‹•é™åˆ¶ 5 å€‹è£ç½®

4. **transactions** - äº¤æ˜“è¨˜éŒ„
   - id (UUID, Primary Key)
   - user_id (Foreign Key)
   - type (income/expense)
   - category
   - amount (DECIMAL(10,2))
   - note
   - created_at
   - synced_at
   - RLS å•Ÿç”¨

### å®‰å…¨æ€§å¯¦ä½œ

- âœ… JWT Token èªè­‰
- âœ… bcrypt å¯†ç¢¼é›œæ¹Š
- âœ… Row Level Security (RLS)
- âœ… è¼¸å…¥é©—è­‰èˆ‡æ¶ˆæ¯’
- âœ… CORS è¨­å®š
- âœ… é©—è­‰ç¢¼éŒ¯èª¤æ¬¡æ•¸é™åˆ¶
- âœ… Session æ•¸é‡é™åˆ¶
- âœ… è‡ªå‹• Token éæœŸ
- âœ… å®‰å…¨å„²å­˜ (flutter_secure_storage)

## å°ˆæ¡ˆæŒ‡æ¨™

### ç¨‹å¼ç¢¼çµ±è¨ˆ

**å‰ç«¯**:
- æª”æ¡ˆæ•¸: 29
- ç¨‹å¼ç¢¼è¡Œæ•¸: ~3,000 è¡Œ
- ç•«é¢æ•¸: 7
- Widget å…ƒä»¶: 4
- è³‡æ–™æ¨¡å‹: 2
- Repository: 2
- Provider: 2

**å¾Œç«¯**:
- æª”æ¡ˆæ•¸: 13
- ç¨‹å¼ç¢¼è¡Œæ•¸: ~1,500 è¡Œ
- API ç«¯é»: 7
- å…±ç”¨å·¥å…·: 6
- è³‡æ–™åº«é·ç§»: 4

**ç¸½è¨ˆ**:
- æª”æ¡ˆæ•¸: 42
- ç¨‹å¼ç¢¼è¡Œæ•¸: ~4,500 è¡Œ
- ç·¨è­¯éŒ¯èª¤: 0
- Lint è­¦å‘Š: 110 (è³‡è¨Šç´šåˆ¥,å¯é¸å„ªåŒ–)

### é–‹ç™¼æ™‚é–“

- Phase 1 (å°ˆæ¡ˆè¨­å®š): âœ… å®Œæˆ
- Phase 2 (åŸºç¤å»ºè¨­): âœ… å®Œæˆ
- Phase 3-7 (ä½¿ç”¨è€…æ•…äº‹): âœ… å®Œæˆ (5/5)
- Phase 8 (é›¢ç·šæ”¯æ´): â³ å¾…å¯¦ä½œ
- Phase 9 (æ‰“ç£¨å„ªåŒ–): â³ å¾…å¯¦ä½œ

**å¯¦éš›é–‹ç™¼æ™‚é–“**: ç´„ 6-8 å°æ™‚ (Phase 1-7)

## æ¸¬è©¦æŒ‡å—

### å¿«é€Ÿæ¸¬è©¦ (5 åˆ†é˜)

```bash
# 1. å•Ÿå‹•å¾Œç«¯
cd backend
supabase status

# 2. å•Ÿå‹•å‰ç«¯
cd ../frontend
export PATH="$HOME/flutter/bin:$HOME/.deno/bin:$PATH"
flutter run -d chrome

# 3. æ¸¬è©¦æµç¨‹
# â†’ è¨»å†Šå¸³è™Ÿ
# â†’ é©—è­‰ Email (http://127.0.0.1:54324)
# â†’ æ–°å¢äº¤æ˜“è¨˜éŒ„
# â†’ æŸ¥çœ‹è²¡å‹™æ¦‚è¦½
```

**è©³ç´°æŒ‡å—**: [QUICKSTART_GUIDE.md](./QUICKSTART_GUIDE.md)

### åŠŸèƒ½æ¸¬è©¦æ¸…å–®

- [ ] è¨»å†Šæ–°å¸³è™Ÿ (å§“åã€Emailã€å¯†ç¢¼)
- [ ] æ¥æ”¶é©—è­‰ç¢¼ Email
- [ ] é©—è­‰ Email ä¸¦è‡ªå‹•ç™»å…¥
- [ ] ç™»å‡ºä¸¦é‡æ–°ç™»å…¥
- [ ] æ–°å¢æ”¯å‡ºè¨˜éŒ„
- [ ] æ–°å¢æ”¶å…¥è¨˜éŒ„
- [ ] æŸ¥çœ‹è²¡å‹™æ¦‚è¦½æ›´æ–°
- [ ] æŸ¥çœ‹äº¤æ˜“è¨˜éŒ„åˆ—è¡¨
- [ ] ä¸‹æ‹‰é‡æ–°æ•´ç†
- [ ] å¯†ç¢¼å¼·åº¦é©—è­‰
- [ ] è¡¨å–®éŒ¯èª¤è™•ç†

## å¾…å®ŒæˆåŠŸèƒ½ (Phase 8-9)

### Phase 8: é›¢ç·šæ”¯æ´
- [ ] æœ¬åœ°æš«å­˜äº¤æ˜“è¨˜éŒ„
- [ ] ç¶²è·¯ç‹€æ…‹ç›£è½
- [ ] è‡ªå‹•åŒæ­¥é‚è¼¯
- [ ] åŒæ­¥ç‹€æ…‹æŒ‡ç¤º
- [ ] 7 å¤©è‡ªå‹•æ¸…ç†

### Phase 9: æ‰“ç£¨èˆ‡å„ªåŒ–
- [ ] ç„¡éšœç¤™æ”¯æ´ (Semantics)
- [ ] è‰²å½©å°æ¯”åº¦é©—è­‰ (WCAG AA)
- [ ] è§¸è¦ºå›é¥‹
- [ ] æ•ˆèƒ½å„ªåŒ–
- [ ] å–®å…ƒæ¸¬è©¦ (>80% è¦†è“‹ç‡)
- [ ] æ•´åˆæ¸¬è©¦
- [ ] å®‰å…¨æ€§æª¢æŸ¥
- [ ] ç¨‹å¼ç¢¼å¯©æŸ¥
- [ ] éƒ¨ç½²æº–å‚™

**é ä¼°æ™‚é–“**: 10-15 å°æ™‚

## éƒ¨ç½²æº–å‚™

### å¾Œç«¯éƒ¨ç½² (Supabase é›²ç«¯)

```bash
cd backend

# 1. ç™»å…¥ Supabase
supabase login

# 2. é€£çµå°ˆæ¡ˆ
supabase link --project-ref YOUR_PROJECT_REF

# 3. å¥—ç”¨é·ç§»
supabase db push

# 4. éƒ¨ç½² Functions
supabase functions deploy auth/register
supabase functions deploy auth/verify-email
supabase functions deploy auth/login
supabase functions deploy auth/logout
supabase functions deploy accounting/transactions
supabase functions deploy accounting/summary

# 5. è¨­å®šç’°å¢ƒè®Šæ•¸
supabase secrets set JWT_SECRET=your-secret-key
supabase secrets set RESEND_API_KEY=your-api-key
```

### å‰ç«¯å»ºç½®

```bash
cd frontend

# Android
flutter build apk --release
# è¼¸å‡º: build/app/outputs/flutter-apk/app-release.apk

# iOS (éœ€è¦ Mac + Xcode)
flutter build ios --release
# éœ€è¦é€é Xcode ä¸Šå‚³åˆ° App Store

# Web
flutter build web --release
# è¼¸å‡º: build/web/
# å¯éƒ¨ç½²åˆ° Firebase Hosting, Vercel, Netlify ç­‰
```

## åƒè€ƒæ–‡ä»¶

### å°ˆæ¡ˆæ–‡ä»¶
- [README.md](./README.md) - å°ˆæ¡ˆä»‹ç´¹
- [SETUP.md](./SETUP.md) - ç’°å¢ƒè¨­å®šæŒ‡å—
- [QUICKSTART_GUIDE.md](./QUICKSTART_GUIDE.md) - å¿«é€Ÿé–‹å§‹æŒ‡å—
- [IMPLEMENTATION_STATUS.md](./IMPLEMENTATION_STATUS.md) - å¯¦ä½œé€²åº¦
- [BACKEND_COMPLETE.md](./BACKEND_COMPLETE.md) - å¾Œç«¯å®Œæˆå ±å‘Š
- [FRONTEND_IMPLEMENTATION_COMPLETE.md](./FRONTEND_IMPLEMENTATION_COMPLETE.md) - å‰ç«¯å®Œæˆå ±å‘Š

### è¦æ ¼æ–‡ä»¶
- [spec.md](./specs/001-member-accounting/spec.md) - åŠŸèƒ½è¦æ ¼
- [plan.md](./specs/001-member-accounting/plan.md) - å¯¦ä½œè¨ˆç•«
- [tasks.md](./specs/001-member-accounting/tasks.md) - ä»»å‹™æ¸…å–®
- [data-model.md](./specs/001-member-accounting/data-model.md) - è³‡æ–™æ¨¡å‹
- [contracts/](./specs/001-member-accounting/contracts/) - API å¥‘ç´„

## æˆå°±è§£é– ğŸ†

- ğŸ¯ **MVP å®Œæˆ** - æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å¯¦ä½œ
- ğŸ” **å®Œæ•´èªè­‰ç³»çµ±** - è¨»å†Šã€é©—è­‰ã€ç™»å…¥ã€ç™»å‡º
- ğŸ’° **å®Œæ•´è¨˜å¸³åŠŸèƒ½** - æ–°å¢ã€æŸ¥çœ‹ã€çµ±è¨ˆ
- ğŸ“± **è·¨å¹³å°æ‡‰ç”¨** - iOSã€Androidã€Web
- ğŸ¨ **ç¾ä»£åŒ– UI** - Material 3 è¨­è¨ˆ
- ğŸŒ **ç¹é«”ä¸­æ–‡** - å®Œæ•´æœ¬åœ°åŒ–
- âœ… **é›¶éŒ¯èª¤** - ç·¨è­¯é€šé
- ğŸš€ **å¯éƒ¨ç½²** - ç”Ÿç”¢å°±ç·’

## ä¸‹ä¸€æ­¥å»ºè­°

### çŸ­æœŸ (1-2 é€±)
1. âœ… å®Œæ•´æ¸¬è©¦æ‰€æœ‰åŠŸèƒ½
2. âœ… ä¿®å¾©ç™¼ç¾çš„ Bug
3. â¬œ å¯¦ä½œ Phase 8 (é›¢ç·šæ”¯æ´)
4. â¬œ æ’°å¯«å–®å…ƒæ¸¬è©¦
5. â¬œ æ•ˆèƒ½å„ªåŒ–

### ä¸­æœŸ (1 å€‹æœˆ)
1. â¬œ å®Œæˆ Phase 9 (æ‰“ç£¨å„ªåŒ–)
2. â¬œ å¢åŠ æ›´å¤šäº¤æ˜“é¡åˆ¥
3. â¬œ åœ–è¡¨èˆ‡çµ±è¨ˆåŠŸèƒ½
4. â¬œ åŒ¯å‡ºå ±è¡¨åŠŸèƒ½
5. â¬œ å¤šå¹£åˆ¥æ”¯æ´

### é•·æœŸ (3 å€‹æœˆ+)
1. â¬œ é ç®—ç®¡ç†åŠŸèƒ½
2. â¬œ å®¶åº­æˆå“¡å…±äº«
3. â¬œ å®šæœŸäº¤æ˜“æé†’
4. â¬œ AI åˆ†æå»ºè­°
5. â¬œ éŠ€è¡Œå¸³æˆ¶ä¸²æ¥

## åœ˜éšŠèˆ‡è²¢ç»

æ­¤ MVP ç”±ä»¥ä¸‹æŠ€è¡“å¯¦ä½œ:

- **å°ˆæ¡ˆè¦åŠƒ**: Specify AI (è¦æ ¼æ–‡ä»¶ç”Ÿæˆ)
- **å¾Œç«¯é–‹ç™¼**: Deno + Supabase
- **å‰ç«¯é–‹ç™¼**: Flutter + Riverpod
- **è³‡æ–™åº«**: PostgreSQL
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **å”ä½œå·¥å…·**: GitHub Copilot CLI

## è¯çµ¡èˆ‡æ”¯æ´

- **å°ˆæ¡ˆå„²å­˜åº«**: (å¾…è¨­å®š)
- **å•é¡Œå›å ±**: (å¾…è¨­å®š)
- **æŠ€è¡“æ–‡ä»¶**: åƒé–± `docs/` ç›®éŒ„
- **å¿«é€Ÿé–‹å§‹**: [QUICKSTART_GUIDE.md](./QUICKSTART_GUIDE.md)

---

**ğŸ‰ æ­å–œ!å®¶åº­è¨˜å¸³æ‡‰ç”¨ç¨‹å¼ MVP å·²å®Œæˆ,ç¾åœ¨å¯ä»¥é–‹å§‹æ¸¬è©¦å’Œä½¿ç”¨äº†!**

**ç«‹å³é–‹å§‹**: åŸ·è¡Œ `flutter run -d chrome` å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼!
